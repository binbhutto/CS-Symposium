{% extends 'layout.html' %}
{% block content %}
<section class="text-gray-500 body-font relative main-section">
    <div class="container px-5 py-24 mx-auto">
        <div class="flex flex-row justify-center w-full mb-12">
          <img src="../static/assets/cs sym logo.png" style="width: 250px;object-fit: contain;">
        </div>
        <form method='POST' action="/sym/api/event" enctype="multipart/form-data">
          {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              <ul class="flashes">
              {% for category, message in messages %}
                <li class='{% if category == "success" %} w-full mx-auto mb-4 p-2 border-2 border-green-900 rounded text-green-900 bg-green-400 font-bold opacity-50
                {% else %}
                  w-full mx-auto mb-4 p-2 border-2 border-red-900 rounded text-red-900 bg-red-400 font-bold opacity-50
                {% endif %}
                '>{{ message }}</li>
              {% endfor %}
              </ul>
            {% endif %}
          {% endwith %}
            <div class="lg:w-1/2 md:w-2/3 mx-auto">
                <div class="flex flex-wrap -m-2">
                  <div class="p-2 w-1/2">
                    <div class="relative">
                      <input type="text" 
                      id="event-number" name="event-number"
                      placeholder="Event Number" 
                      class="w-full bg-gray-800 rounded border border-gray-700 focus:border-indigo-500 text-base outline-none text-gray-100 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
                    </div>
                  </div>
                  <div class="p-2 w-1/2">
                    <div class="relative">
                      <input type="text" onfocus="(this.type='date')" onblur="(this.type='text')"
                      id="event_rg_dater" name="event_rg_date" 
                      placeholder="Last Date For Registration"
                      class="w-full bg-gray-800 rounded border border-gray-700 focus:border-indigo-500 text-base outline-none text-gray-100 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
                    </div>
                  </div>
                  <div class="p-2 w-1/2">
                    <div class="relative">
                      <input type="text" onfocus="(this.type='date')" onblur="(this.type='text')"
                      id="event_date" name="event_date" 
                      placeholder="Event Date"
                      class="w-full bg-gray-800 rounded border border-gray-700 focus:border-indigo-500 text-base outline-none text-gray-100 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
                    </div>
                  </div>
                  <div class="p-2 w-1/2">
                    <div class="relative">
                      <input type="text" onfocus="(this.type='time')" onblur="(this.type='text')" 
                      id="event_time" name="event_time" 
                      placeholder="Event Time"
                      class="w-full bg-gray-800 rounded border border-gray-700 focus:border-indigo-500 text-base outline-none text-gray-100 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
                    </div>
                  </div>
                  <div class="p-2 w-full">
                    <div class="relative">
                      <input type="text" 
                      id="speaker" name="speaker" 
                      placeholder="Speaker"
                      class="w-full bg-gray-800 rounded border border-gray-700 focus:border-indigo-500 text-base outline-none text-gray-100 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
                    </div>
                  </div>
                  <div class="p-2 w-full">
                    <div class="relative">
                      <input type="text" 
                      id="event-topic" name="event-topic" 
                      placeholder="Event Topic"
                      class="w-full bg-gray-800 rounded border border-gray-700 focus:border-indigo-500 text-base outline-none text-gray-100 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
                    </div>
                  </div>
                  <div class="p-2 w-full">
                    <div class="relative">
                      <input id="linkedin" 
                      name="linkedin" 
                      placeholder="Linkedin Link"
                      class="w-full bg-gray-800 rounded border border-gray-700 focus:border-indigo-500 text-base outline-none text-gray-100 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
                    </div>
                  </div>
                  <div class="p-2 w-full">
                    <div class="relative">
                      <textarea id="about-speaker" name="about-speaker" 
                      placeholder="About Speaker"
                      class="w-full bg-gray-800 rounded border border-gray-700 focus:border-indigo-500 h-32 text-base outline-none text-gray-100 py-1 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out"></textarea>
                    </div>
                  </div>
                  <div class="p-2 w-full">
                    <div class="relative">
                      <textarea id="speaker_exp" name="speaker_exp" 
                      placeholder="Speaker Experience"
                      class="w-full bg-gray-800 rounded border border-gray-700 focus:border-indigo-500 h-32 text-base outline-none text-gray-100 py-1 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out"></textarea>
                    </div>
                  </div>
                  <div class="p-2 w-full">
                    <div class="w-1/2 text-lg">
                      Speaker Avatar: 
                    </div>
                    <div class="relative">
                      <input id="avatar" 
                      type="file"
                      name="avatar" 
                      accept="image/png, image/jpeg, image/jpg">
                    </div>
                  </div>
                  <div class="p-2 w-full">
                    <button class="flex mx-auto text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg" style="background-color: #008dc1d1;">Submit</button>
                  </div>
                </div>
              </div>
        </form>
    </div>
</section>
<!--EVENT LIST SECTION-->
<section class="text-gray-500 body-font overflow-hidden" style="background-color: #000;">
  <div class="container px-12 py-24 mx-auto">
      <div class="w-full mx-auto mb-20 text-4xl text-center">
          Event List
      </div>
      <div class="-my-8">
          {% for event in events %}
          <div class="px-4 py-8 flex flex-wrap md:flex-nowrap border-b-2 border-gray-700 transition duration-200 ease-in-out hover:bg-gray-700">
            <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col">
              <span class="font-semibold title-font text-white">#{{event.event_number}} {{event.speaker}}</span>
              <span class="mt-1 text-gray-500 text-sm" id="eventNum">Event Date: {{event.event_date}}</span>
              <span class="mt-1 text-gray-500 text-sm" id="eventNum">Event Time: {{event.event_time}}</span>
            </div>
            <div class="md:flex-grow">
              <h2 class="text-2xl font-medium text-white title-font mb-2">{{event.event_topic}}</h2>
              <p class="leading-relaxed">{{event.about_speaker}}</p>
            </div>
            <div class="px-10">
              <div class="form-check form-switch">
                <a href="{{ url_for('data.set_latest',event_number=event.event_number) }}">
                  <button class="text-xl text-white px-4 py-1 rounded {% if event.latest == true %}bg-green-700 
                  {% else %}bg-gray-800{% endif %}" 
                  >Latest</button>
                </a>
              </div>
          </div>
          </div>
      {% endfor %}
    </div>
  </div>
</section>
<!--EVENT LIST SECTION END-->
{% endblock %}